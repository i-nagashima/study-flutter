# ビルドモードを考える

ビルドモードは 3 つある

- デバッグモード  
  ホット リロードを使用する場合
- プロファイルモード  
  パフォーマンスを分析する場合
- リリースモード  
  アプリをリリースする

# デバッグ

デバッグ モードでは、アプリは物理デバイス、エミュレーター、またはシミュレーターでのデバッグ用にセットアップされる。

## モバイル アプリのデバッグ モードとは

- アサーションが有効
- サービス拡張機能が有効
- コンパイルは、高速な開発および実行サイクル用に最適化 (実行速度、バイナリ サイズ、または展開用ではない)。
- デバッグが有効になり、ソース レベルのデバッグをサポートするツール ( DevTools など) がプロセスに接続できる

## コマンド

```zsh
$ flutter run
```

## IDE

(VS Code)

[実行] → [デバッグの開始] (F5)

# リリース

最大限の最適化と最小限のフットプリント サイズが必要な場合は、アプリのデプロイにリリース モードを使用する。

モバイルの場合、リリース モード (シミュレーターまたはエミュレーターではサポートされていません) とは、次のことを意味する。

- アサーションは無効
- デバッグ情報は削除
- デバッグは無効
- コンパイルは、高速起動、高速実行、および小さなパッケージ サイズ向けに最適化
- サービス拡張機能は無効

## コマンド

```zsh
$ flutter run --release
```

## IDE

(VS Code)

[実行] → [デバッグなしで実行] (^F5)

# プロファイル

プロファイル モードでは、アプリのパフォーマンスをプロファイリングするのに十分なデバッグ機能が維持される。

エミュレーターとシミュレーターでは、動作が実際のパフォーマンスを表していないため、プロファイル モードは無効になっている。

モバイルでは、プロファイル モードはリリース モードに似ていますが、次の違いがある。

- パフォーマンス オーバーレイを有効にするものなど、一部のサービス拡張機能が有効。
- トレースが有効になり、ソースレベルのデバッグをサポートするツール ( DevTools など) がプロセスに接続できる。

## コマンド

```zsh
$ flutter run --profile
```

## IDE

(VS Code)

不明
